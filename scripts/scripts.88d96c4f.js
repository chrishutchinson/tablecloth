"use strict";angular.module("tableclothApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","datatables","ngHandsontable"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("tableclothApp").controller("MainCtrl",["$scope","DTInstances",function(a,b){a.paging=!1,a.recordsPerPage=10,a.searching=!1,a.ordering=!1;var c,d=["","","","",""];a.data=[d,["","","","",""]],a.dataSet=!1;var e=function(){var b=angular.copy(a.dataSet);if("undefined"!=typeof b[0]){var c=angular.copy(b[0]);delete b[0];var d=[];angular.forEach(c,function(a){d.push({title:a})})}var e=Math.floor(9999*Math.random())+1;a.resources='<link rel="stylesheet" href="//cdn.datatables.net/1.10.5/css/jquery.dataTables.min.css" />\n<script src="//cdn.datatables.net/1.10.5/js/jquery.dataTables.min.js" type="text/javascript"></script>',a.html='<table id="table-'+e+'"></table>',a.script='<script type="text/javascript">\n  $(document).ready(function() {\n    $(\'#table-'+e+"').dataTable({\n      ordering: "+a.ordering+",\n      searching: "+a.searching+",\n      paging: "+a.paging+",\n      displayLength: "+a.recordsPerPage+",\n      columns: "+JSON.stringify(d)+",\n      data: "+f(b)+",\n    });\n  });\n</script>"},f=function(a){var b=[];return angular.forEach(a,function(a){null!==a&&"undefined"!=typeof a&&b.push(a)}),JSON.stringify(b)},g=function(){a.dataTableOptions={displayLength:a.recordsPerPage,paging:a.paging,searching:a.searching,ordering:a.ordering}};g();var h=function(a){"undefined"==typeof c?b.getLast().then(function(b){c=b,a&&a(c)}):a&&a(c)};h();var i=function(a,b){a!==b&&h(function(a){g(),a.rerender(),e()})};a.$watch("paging",i),a.$watch("recordsPerPage",i),a.$watch("searching",i),a.$watch("ordering",i),a.$watch("data",function(b,c){if(b!==c){var d=b;a.dataSet=d,g(),e()}},!0)}]);